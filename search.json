[
  {
    "objectID": "notebooks/2023/mode/transit_mode.html",
    "href": "notebooks/2023/mode/transit_mode.html",
    "title": "Transit Mode",
    "section": "",
    "text": "Data\n# Categorize based on HHTS categories\n\ntransit_mode = pd.concat(\n    [\n        pd.read_parquet(SAVE_DIR / \"transit_mode.parquet\"),\n        pd.read_parquet(SAVE_DIR / \"weights.parquet\"),\n    ],\n    axis=1,\n)"
  },
  {
    "objectID": "notebooks/2023/mode/transit_mode.html#table",
    "href": "notebooks/2023/mode/transit_mode.html#table",
    "title": "Transit Mode",
    "section": "Table",
    "text": "Table\n\n\nTable\nunweighted = transit_mode.groupby(\"transit_mode\", observed=True).size()\nunlinked = transit_mode.groupby(\"transit_mode\", observed=True).unlinked_weight.sum()\nlinked = transit_mode.groupby(\"transit_mode\", observed=True).linked_weight.sum()\ntotal_valid = len(transit_mode.dropna())\ntotal = len(transit_mode)\n\nunlinked_total = transit_mode.unlinked_weight.sum()\nlinked_total = transit_mode.linked_weight.sum()\n\nsummary = pd.DataFrame(\n    {\n        (\"unweighted\", \"count\"): unweighted,\n        (\"unweighted\", \"percent\"): unweighted / unweighted.sum(),\n        (\"unlinked_weight\", \"count\"): unlinked,\n        (\"unlinked_weight\", \"percent\"): unlinked / unlinked.sum(),\n        (\"linked_weight\", \"count\"): linked,\n        (\"linked_weight\", \"percent\"): linked / linked.sum(),\n    }\n)\n\ntable = pd.concat(\n    [\n        summary,\n        pd.DataFrame(\n            [\n                {\n                    \"age_category\": \"Total valid\",\n                    (\"unweighted\", \"count\"): total_valid,\n                    (\"unweighted\", \"percent\"): total_valid / total,\n                    (\"unlinked_weight\", \"count\"): unlinked.sum(),\n                    (\"unlinked_weight\", \"percent\"): unlinked.sum() / unlinked_total,\n                    (\"linked_weight\", \"count\"): linked.sum(),\n                    (\"linked_weight\", \"percent\"): linked.sum() / linked_total,\n                },\n                {\n                    \"age_category\": \"Total\",\n                    (\"unweighted\", \"count\"): total,\n                    (\"unlinked_weight\", \"count\"): unlinked_total,\n                    (\"linked_weight\", \"count\"): linked_total,\n                },\n            ],\n            index=[\"Total valid\", \"Total\"],\n        ).set_index(\"age_category\"),\n    ]\n).to_html(\n    formatters={\n        (\"unweighted\", \"count\"): \"{:,.0f}\".format,\n        (\"unweighted\", \"percent\"): \"{:,.2%}\".format,\n        (\"unlinked_weight\", \"count\"): \"{:,.0f}\".format,\n        (\"unlinked_weight\", \"percent\"): \"{:,.2%}\".format,\n        (\"linked_weight\", \"count\"): \"{:,.0f}\".format,\n        (\"linked_weight\", \"percent\"): \"{:,.2%}\".format,\n    }\n)\n\nHTML(table)\n\n\n\n\n\n\nunweighted\nunlinked_weight\nlinked_weight\n\n\n\ncount\npercent\ncount\npercent\ncount\npercent\n\n\n\n\nLocal\n17,120\n48.55%\n110,754\n39.41%\n84,973\n37.70%\n\n\nRapid\n2,376\n6.74%\n23,342\n8.31%\n20,449\n9.07%\n\n\nExpress\n1,039\n2.95%\n7,013\n2.50%\n5,367\n2.38%\n\n\nLRT\n14,333\n40.65%\n137,641\n48.98%\n112,734\n50.01%\n\n\nCommuter Rail\n392\n1.11%\n2,268\n0.81%\n1,889\n0.84%\n\n\nTotal valid\n35,260\n100.00%\n281,018\n100.00%\n225,412\n100.00%\n\n\nTotal\n35,260\nNaN\n281,018\nNaN\n225,412\nNaN"
  },
  {
    "objectID": "notebooks/2023/mode/transit_mode.html#charts",
    "href": "notebooks/2023/mode/transit_mode.html#charts",
    "title": "Transit Mode",
    "section": "Charts",
    "text": "Charts\n\n\nChart\nfigure = go.Figure()\nfigure.add_trace(\n    go.Bar(\n        x=summary.index,\n        y=summary[(\"unweighted\", \"percent\")],\n        name=\"Unweighted\",\n    )\n)\nfigure.add_trace(\n    go.Bar(\n        x=summary.index,\n        y=summary[(\"unlinked_weight\", \"percent\")],\n        name=\"Weighted (Unlinked)\",\n    )\n)\nfigure.add_trace(\n    go.Bar(\n        x=summary.index,\n        y=summary[(\"linked_weight\", \"percent\")],\n        name=\"Weighted (Linked)\",\n    )\n)\nfigure.update_layout(\n    title_text=\"Unweighted and Weighted Responses by Transit Mode\",\n    yaxis_range=[0, 1],\n    yaxis_tickformat=\",.0%\",\n    xaxis_title=\"Age\",\n    yaxis_title=\"Percent\",\n)\n\nfigure"
  },
  {
    "objectID": "notebooks/2023/demographics/age.html",
    "href": "notebooks/2023/demographics/age.html",
    "title": "Age",
    "section": "",
    "text": "Data\n# Categorize based on HHTS categories\n\nage = pd.concat(\n    [\n        pd.read_parquet(SAVE_DIR / \"age.parquet\"),\n        pd.read_parquet(SAVE_DIR / \"weights.parquet\"),\n    ],\n    axis=1,\n)",
    "crumbs": [
      "2023 Onboard Survey",
      "Demographics",
      "Age"
    ]
  },
  {
    "objectID": "notebooks/2023/demographics/age.html#table",
    "href": "notebooks/2023/demographics/age.html#table",
    "title": "Age",
    "section": "Table",
    "text": "Table\n\n\nTable\nunweighted = age.groupby(\"age_category\", observed=True).size()\nunlinked = age.groupby(\"age_category\", observed=True).unlinked_weight.sum()\nlinked = age.groupby(\"age_category\", observed=True).linked_weight.sum()\ntotal_valid = len(age.dropna())\ntotal = len(age)\n\nunlinked_total = age.unlinked_weight.sum()\nlinked_total = age.linked_weight.sum()\n\nsummary = pd.DataFrame(\n    {\n        (\"unweighted\", \"count\"): unweighted,\n        (\"unweighted\", \"percent\"): unweighted / unweighted.sum(),\n        (\"unlinked_weight\", \"count\"): unlinked,\n        (\"unlinked_weight\", \"percent\"): unlinked / unlinked.sum(),\n        (\"linked_weight\", \"count\"): linked,\n        (\"linked_weight\", \"percent\"): linked / linked.sum(),\n    }\n)\n\ntable = pd.concat(\n    [\n        summary,\n        pd.DataFrame(\n            [\n                {\n                    \"age_category\": \"Total valid\",\n                    (\"unweighted\", \"count\"): total_valid,\n                    (\"unweighted\", \"percent\"): total_valid / total,\n                    (\"unlinked_weight\", \"count\"): unlinked.sum(),\n                    (\"unlinked_weight\", \"percent\"): unlinked.sum() / unlinked_total,\n                    (\"linked_weight\", \"count\"): linked.sum(),\n                    (\"linked_weight\", \"percent\"): linked.sum() / linked_total,\n                },\n                {\n                    \"age_category\": \"Total\",\n                    (\"unweighted\", \"count\"): total,\n                    (\"unlinked_weight\", \"count\"): unlinked_total,\n                    (\"linked_weight\", \"count\"): linked_total,\n                },\n            ],\n            index=[\"Total valid\", \"Total\"],\n        ).set_index(\"age_category\"),\n    ]\n).to_html(\n    formatters={\n        (\"unweighted\", \"count\"): \"{:,.0f}\".format,\n        (\"unweighted\", \"percent\"): \"{:,.2%}\".format,\n        (\"unlinked_weight\", \"count\"): \"{:,.0f}\".format,\n        (\"unlinked_weight\", \"percent\"): \"{:,.2%}\".format,\n        (\"linked_weight\", \"count\"): \"{:,.0f}\".format,\n        (\"linked_weight\", \"percent\"): \"{:,.2%}\".format,\n    }\n)\n\nHTML(table)\n\n\n\n\n\n\nunweighted\nunlinked_weight\nlinked_weight\n\n\n\ncount\npercent\ncount\npercent\ncount\npercent\n\n\nage_category\n\n\n\n\n\n\n\n\n\n\nUnder 5\n160\n0.47%\n1,142\n0.42%\n873\n0.40%\n\n\n5-15\n556\n1.62%\n4,526\n1.65%\n3,544\n1.61%\n\n\n16-17\n988\n2.87%\n7,973\n2.91%\n6,254\n2.85%\n\n\n18-24\n8,310\n24.18%\n71,323\n26.05%\n58,966\n26.84%\n\n\n25-34\n8,049\n23.42%\n63,665\n23.25%\n51,159\n23.29%\n\n\n35-44\n5,861\n17.05%\n44,947\n16.42%\n35,908\n16.35%\n\n\n45-54\n4,073\n11.85%\n31,758\n11.60%\n25,169\n11.46%\n\n\n55-64\n3,441\n10.01%\n26,552\n9.70%\n20,681\n9.41%\n\n\n65-74\n2,338\n6.80%\n17,561\n6.41%\n13,699\n6.24%\n\n\n75-84\n536\n1.56%\n3,892\n1.42%\n3,010\n1.37%\n\n\n85 or Older\n57\n0.17%\n457\n0.17%\n401\n0.18%\n\n\nTotal valid\n34,369\n97.47%\n273,795\n97.43%\n219,663\n97.45%\n\n\nTotal\n35,260\nNaN\n281,018\nNaN\n225,412\nNaN",
    "crumbs": [
      "2023 Onboard Survey",
      "Demographics",
      "Age"
    ]
  },
  {
    "objectID": "notebooks/2023/demographics/age.html#charts",
    "href": "notebooks/2023/demographics/age.html#charts",
    "title": "Age",
    "section": "Charts",
    "text": "Charts\n\n\nChart\nfigure = go.Figure()\nfigure.add_trace(\n    go.Bar(\n        x=summary.index,\n        y=summary[(\"unweighted\", \"percent\")],\n        name=\"Unweighted\",\n    )\n)\nfigure.add_trace(\n    go.Bar(\n        x=summary.index,\n        y=summary[(\"unlinked_weight\", \"percent\")],\n        name=\"Weighted (Unlinked)\",\n    )\n)\nfigure.add_trace(\n    go.Bar(\n        x=summary.index,\n        y=summary[(\"linked_weight\", \"percent\")],\n        name=\"Weighted (Linked)\",\n    )\n)\nfigure.update_layout(\n    title_text=\"Unweighted and Weighted Responses by Age\",\n    yaxis_range=[0, 1],\n    yaxis_tickformat=\",.0%\",\n    xaxis_title=\"Age\",\n    yaxis_title=\"Percent\",\n)\n\nfigure",
    "crumbs": [
      "2023 Onboard Survey",
      "Demographics",
      "Age"
    ]
  },
  {
    "objectID": "notebooks/2015/demographics/age.html",
    "href": "notebooks/2015/demographics/age.html",
    "title": "Age",
    "section": "",
    "text": "Data\n# Categorize based on HHTS categories\n\nage = pd.concat(\n    [\n        pd.read_parquet(SAVE_DIR / \"age.parquet\"),\n        pd.read_parquet(SAVE_DIR / \"weights.parquet\"),\n    ],\n    axis=1,\n)",
    "crumbs": [
      "2015 Onboard Survey",
      "Demographics",
      "Age"
    ]
  },
  {
    "objectID": "notebooks/2015/demographics/age.html#table",
    "href": "notebooks/2015/demographics/age.html#table",
    "title": "Age",
    "section": "Table",
    "text": "Table\n\n\nTable\nunweighted = age.groupby(\"age_category\", observed=True).size()\nunlinked = age.groupby(\"age_category\", observed=True).unlinked_weight.sum()\nlinked = age.groupby(\"age_category\", observed=True).linked_weight.sum()\ntotal_valid = len(age.dropna())\ntotal = len(age)\n\nunlinked_total = age.unlinked_weight.sum()\nlinked_total = age.linked_weight.sum()\n\nsummary = pd.DataFrame(\n    {\n        (\"unweighted\", \"count\"): unweighted,\n        (\"unweighted\", \"percent\"): unweighted / unweighted.sum(),\n        (\"unlinked_weight\", \"count\"): unlinked,\n        (\"unlinked_weight\", \"percent\"): unlinked / unlinked.sum(),\n        (\"linked_weight\", \"count\"): linked,\n        (\"linked_weight\", \"percent\"): linked / linked.sum(),\n    }\n)\n\ntable = pd.concat(\n    [\n        summary,\n        pd.DataFrame(\n            [\n                {\n                    \"age_category\": \"Total valid\",\n                    (\"unweighted\", \"count\"): total_valid,\n                    (\"unweighted\", \"percent\"): total_valid / total,\n                    (\"unlinked_weight\", \"count\"): unlinked.sum(),\n                    (\"unlinked_weight\", \"percent\"): unlinked.sum() / unlinked_total,\n                    (\"linked_weight\", \"count\"): linked.sum(),\n                    (\"linked_weight\", \"percent\"): linked.sum() / linked_total,\n                },\n                {\n                    \"age_category\": \"Total\",\n                    (\"unweighted\", \"count\"): total,\n                    (\"unlinked_weight\", \"count\"): unlinked_total,\n                    (\"linked_weight\", \"count\"): linked_total,\n                },\n            ],\n            index=[\"Total valid\", \"Total\"],\n        ).set_index(\"age_category\"),\n    ]\n).to_html(\n    formatters={\n        (\"unweighted\", \"count\"): \"{:,.0f}\".format,\n        (\"unweighted\", \"percent\"): \"{:,.2%}\".format,\n        (\"unlinked_weight\", \"count\"): \"{:,.0f}\".format,\n        (\"unlinked_weight\", \"percent\"): \"{:,.2%}\".format,\n        (\"linked_weight\", \"count\"): \"{:,.0f}\".format,\n        (\"linked_weight\", \"percent\"): \"{:,.2%}\".format,\n    }\n)\n\nHTML(table)\n\n\n\n\n\n\nunweighted\nunlinked_weight\nlinked_weight\n\n\n\ncount\npercent\ncount\npercent\ncount\npercent\n\n\nage_category\n\n\n\n\n\n\n\n\n\n\nUnder 5\n162\n0.49%\n1,574\n0.48%\n1,121\n0.49%\n\n\n5-15\n565\n1.71%\n6,001\n1.81%\n4,487\n1.95%\n\n\n16-17\n1,255\n3.81%\n14,039\n4.24%\n9,930\n4.32%\n\n\n18-24\n10,489\n31.81%\n103,775\n31.34%\n71,913\n31.26%\n\n\n25-34\n8,160\n24.75%\n82,079\n24.79%\n57,897\n25.17%\n\n\n35-44\n4,555\n13.82%\n46,751\n14.12%\n32,727\n14.23%\n\n\n45-54\n3,560\n10.80%\n35,817\n10.82%\n23,816\n10.35%\n\n\n55-64\n2,732\n8.29%\n26,270\n7.93%\n17,561\n7.63%\n\n\n65-74\n1,224\n3.71%\n12,005\n3.63%\n8,611\n3.74%\n\n\n75-84\n230\n0.70%\n2,374\n0.72%\n1,691\n0.73%\n\n\n85 or Older\n39\n0.12%\n412\n0.12%\n295\n0.13%\n\n\nTotal valid\n32,971\n90.80%\n331,099\n89.54%\n230,049\n86.37%\n\n\nTotal\n36,310\nNaN\n369,768\nNaN\n266,337\nNaN",
    "crumbs": [
      "2015 Onboard Survey",
      "Demographics",
      "Age"
    ]
  },
  {
    "objectID": "notebooks/2015/demographics/age.html#charts",
    "href": "notebooks/2015/demographics/age.html#charts",
    "title": "Age",
    "section": "Charts",
    "text": "Charts\n\n\nChart\nfigure = go.Figure()\nfigure.add_trace(\n    go.Bar(\n        x=summary.index,\n        y=summary[(\"unweighted\", \"percent\")],\n        name=\"Unweighted\",\n    )\n)\nfigure.add_trace(\n    go.Bar(\n        x=summary.index,\n        y=summary[(\"unlinked_weight\", \"percent\")],\n        name=\"Weighted (Unlinked)\",\n    )\n)\nfigure.add_trace(\n    go.Bar(\n        x=summary.index,\n        y=summary[(\"linked_weight\", \"percent\")],\n        name=\"Weighted (Linked)\",\n    )\n)\nfigure.update_layout(\n    title_text=\"Unweighted and Weighted Responses by Age\",\n    yaxis_range=[0, 1],\n    yaxis_tickformat=\",.0%\",\n    xaxis_title=\"Age\",\n    yaxis_title=\"Percent\",\n)\n\nfigure",
    "crumbs": [
      "2015 Onboard Survey",
      "Demographics",
      "Age"
    ]
  },
  {
    "objectID": "notebooks/2015/mode/transit_mode.html",
    "href": "notebooks/2015/mode/transit_mode.html",
    "title": "Transit Mode",
    "section": "",
    "text": "Data\n# Categorize based on HHTS categories\n\ntransit_mode = pd.concat(\n    [\n        pd.read_parquet(SAVE_DIR / \"transit_mode.parquet\"),\n        pd.read_parquet(SAVE_DIR / \"weights.parquet\"),\n    ],\n    axis=1,\n)"
  },
  {
    "objectID": "notebooks/2015/mode/transit_mode.html#table",
    "href": "notebooks/2015/mode/transit_mode.html#table",
    "title": "Transit Mode",
    "section": "Table",
    "text": "Table\n\n\nTable\nunweighted = transit_mode.groupby(\"transit_mode\", observed=True).size()\nunlinked = transit_mode.groupby(\"transit_mode\", observed=True).unlinked_weight.sum()\nlinked = transit_mode.groupby(\"transit_mode\", observed=True).linked_weight.sum()\ntotal_valid = len(transit_mode.dropna())\ntotal = len(transit_mode)\n\nunlinked_total = transit_mode.unlinked_weight.sum()\nlinked_total = transit_mode.linked_weight.sum()\n\nsummary = pd.DataFrame(\n    {\n        (\"unweighted\", \"count\"): unweighted,\n        (\"unweighted\", \"percent\"): unweighted / unweighted.sum(),\n        (\"unlinked_weight\", \"count\"): unlinked,\n        (\"unlinked_weight\", \"percent\"): unlinked / unlinked.sum(),\n        (\"linked_weight\", \"count\"): linked,\n        (\"linked_weight\", \"percent\"): linked / linked.sum(),\n    }\n)\n\ntable = pd.concat(\n    [\n        summary,\n        pd.DataFrame(\n            [\n                {\n                    \"age_category\": \"Total valid\",\n                    (\"unweighted\", \"count\"): total_valid,\n                    (\"unweighted\", \"percent\"): total_valid / total,\n                    (\"unlinked_weight\", \"count\"): unlinked.sum(),\n                    (\"unlinked_weight\", \"percent\"): unlinked.sum() / unlinked_total,\n                    (\"linked_weight\", \"count\"): linked.sum(),\n                    (\"linked_weight\", \"percent\"): linked.sum() / linked_total,\n                },\n                {\n                    \"age_category\": \"Total\",\n                    (\"unweighted\", \"count\"): total,\n                    (\"unlinked_weight\", \"count\"): unlinked_total,\n                    (\"linked_weight\", \"count\"): linked_total,\n                },\n            ],\n            index=[\"Total valid\", \"Total\"],\n        ).set_index(\"age_category\"),\n    ]\n).to_html(\n    formatters={\n        (\"unweighted\", \"count\"): \"{:,.0f}\".format,\n        (\"unweighted\", \"percent\"): \"{:,.2%}\".format,\n        (\"unlinked_weight\", \"count\"): \"{:,.0f}\".format,\n        (\"unlinked_weight\", \"percent\"): \"{:,.2%}\".format,\n        (\"linked_weight\", \"count\"): \"{:,.0f}\".format,\n        (\"linked_weight\", \"percent\"): \"{:,.2%}\".format,\n    }\n)\n\nHTML(table)\n\n\n\n\n\n\nunweighted\nunlinked_weight\nlinked_weight\n\n\n\ncount\npercent\ncount\npercent\ncount\npercent\n\n\n\n\nLocal\n17,749\n48.88%\n192,906\n52.17%\n135,806\n50.99%\n\n\nRapid\n1,819\n5.01%\n21,242\n5.74%\n15,978\n6.00%\n\n\nExpress\n1,022\n2.81%\n13,190\n3.57%\n9,101\n3.42%\n\n\nLRT\n14,614\n40.25%\n137,301\n37.13%\n101,207\n38.00%\n\n\nCommuter Rail\n1,106\n3.05%\n5,129\n1.39%\n4,246\n1.59%\n\n\nTotal valid\n36,310\n100.00%\n369,768\n100.00%\n266,337\n100.00%\n\n\nTotal\n36,310\nNaN\n369,768\nNaN\n266,337\nNaN"
  },
  {
    "objectID": "notebooks/2015/mode/transit_mode.html#charts",
    "href": "notebooks/2015/mode/transit_mode.html#charts",
    "title": "Transit Mode",
    "section": "Charts",
    "text": "Charts\n\n\nChart\nfigure = go.Figure()\nfigure.add_trace(\n    go.Bar(\n        x=summary.index,\n        y=summary[(\"unweighted\", \"percent\")],\n        name=\"Unweighted\",\n    )\n)\nfigure.add_trace(\n    go.Bar(\n        x=summary.index,\n        y=summary[(\"unlinked_weight\", \"percent\")],\n        name=\"Weighted (Unlinked)\",\n    )\n)\nfigure.add_trace(\n    go.Bar(\n        x=summary.index,\n        y=summary[(\"linked_weight\", \"percent\")],\n        name=\"Weighted (Linked)\",\n    )\n)\nfigure.update_layout(\n    title_text=\"Unweighted and Weighted Responses by Transit Mode\",\n    yaxis_range=[0, 1],\n    yaxis_tickformat=\",.0%\",\n    xaxis_title=\"Age\",\n    yaxis_title=\"Percent\",\n)\n\nfigure"
  }
]